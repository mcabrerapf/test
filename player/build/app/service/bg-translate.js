define(["lodash","main-module"],function(n,t){"use strict";t.factory("BGTranslate",["$rootScope","$q","$translate","tmhDynamicLocale",function(t,a,e,c){function o(){var t=n.keys(r.Dict);r.translate(t).then(function(n){r.Dict=n})}var r={Lang:"",Dict:{},changeLang:function(n){r.Lang=n,e.use(n),c.set(n)},translate:function(n,t){var c=a.defer();return e(n,t).then(c.resolve,c.resolve),c.promise},addKeys:function(t){n.forEach(t,function(n){r.Dict[n]=""}),o()}};return t.$on("$translateChangeSuccess",o),window.BGchangeLang=r.changeLang,window.BGtranslate=r.translate,r}])});
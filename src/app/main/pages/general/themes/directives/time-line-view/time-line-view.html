<div class="general-view-container p-24 md-background-bg md-whiteframe-1dp" id="timeline">

    <div layout="column" layout-align="none center">

        <ul class="ms-timeline"
            dnd-list="vm.theme.timeline"
            dnd-allowed-types="[]">
            
            <li class="ms-timeline-item md-3-line"
                ng-repeat="timelineevent in vm.theme.timeline"
                ng-click="null"
                dnd-dragable="timelineevent"
                dnd-effect-allowed="move"
                dnd-moved="vm.movedEvent($event, $index)">
            
                <div layout="column" layout-align="center center">

                    <div layout="row" layout-align="start start">

                        <div flex layout="row" layout-align="none center">
                            <md-icon flex="none" class="m-16 s40 md-accent-fg" md-font-icon="{{vm.getEventIcon(timelineevent.type)}}"></md-icon>
                            <div flex class="md-list-item-text" layout="column" layout-align="start start">
                                <h3>Timeline event name</h3>
                                <div>{{timelineevent.type}}</div>


                            </div>
                        </div>

                        <md-icon flex="none" class="drag-handle" md-font-icon="icon-drag-vertical" dnd-handle></md-icon>
                    </div>

                    <div class="actions" layout="row" layout-align="center center">

                        <md-button  class="md-icon-button"
                                    aria-label="edit"
                                    ng-click="vm.editEvent($event, $index, timelineevent)"
                                    translate-attr-aria-label="FORMS.EDIT">
                            <md-icon md-font-icon="icon-pencil" class="md-default-theme" translate-attr-aria-label="FORMS.DELETE"></md-icon>
                        </md-button>

                        <md-button  class="md-icon-button"
                                    aria-label="delete"
                                    ng-click="vm.deleteConfirm($event, $index, timelineevent)"
                                    translate-attr-aria-label="FORMS.DELETE">
                            <md-icon md-font-icon="icon-delete" class="md-default-theme" translate-attr-aria-label="FORMS.DELETE"></md-icon>
                        </md-button>
                    </div>
                </div>
            </li>

        </ul>


        <!-- ADD NEW BUTTON -->
        <md-menu>
            <md-button class="md-fab md-accent md-icon-button" ng-click="vm.openNewMenu($mdOpenMenu, $event)"
                    aria-label="add contact" translate translate-attr-aria-label="THEMES.ADD_TIMELINEEVENT">
                <md-icon md-font-icon="icon-plus"></md-icon>
            </md-button>

            <md-menu-content>
                <md-menu-item>
                    <md-button  ng-click="vm.createNewStep($event)"
                                aria-label="New step" translate 
                                translate-attr-aria-label="THEMES.NEW_STEP">
                        <md-icon md-font-icon="icon-apple-safari"></md-icon>
                        <span>Step</span>
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button  ng-click="vm.createNewGoal($event)"
                                aria-label="New goal" translate 
                                translate-attr-aria-label="THEMES.NEW_GOAL">
                        <md-icon md-font-icon="icon-alarm-check"></md-icon>
                        <span>Goal</span>
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button  ng-click="vm.createNewMessage($event)"
                                aria-label="New message" translate 
                                translate-attr-aria-label="THEMES.NEW_MESSAGE">
                        <md-icon md-font-icon="icon-email"></md-icon>
                        <span>Message</span>
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button  ng-click="vm.createNewPost($event)"
                                aria-label="New post" translate 
                                translate-attr-aria-label="THEMES.NEW_POST">
                        <md-icon md-font-icon="icon-message-text"></md-icon>
                        <span>Post</span>
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
        <!-- / ADD NEW BUTTON -->

    </div>

</div>
